<!DOCTYPE html>
<html>
	<head>
		<!-- This is a comment tag-->
		<meta charset="UTF-8" />
		<title>Page A3</title>
		<link rel="stylesheet" href="expNew.css" type="text/css" media="screen,projection" />
		<script src="jquery-3.3.1.js"></script>
		<script src="experiment.js"></script>
		<script>
			getResults();
			
			var iTime = parseInt(results["ExpA-iTime"]);
			var clicks = parseInt(results["ExpA-Clicks"]);
			var errors = parseInt(results["ExpA-Errors"]);
			var prodA1Views = parseInt(results["ExpA-prodA1Views"]);
			var prodA2Views = parseInt(results["ExpA-prodA2Views"]);
			var prodA3Views = parseInt(results["ExpA-prodA3Views"]);
		
			
			var loadDate;
			
			$(document).ready(function() 
			{

				loadDate = new Date();
				
				$("*").click(function(e) {
					// Stop the function propagating up the DOM tree
					e.stopPropagation();
					
					// Get the interaction time
					var intDate = new Date();
					
					// Check if this is the link we want
					if (($(this).data("isadddiv") != undefined) && (prodA1Views > 1) && (prodA2Views > 1) && (prodA3Views > 1)) {
						
						clicks++;
						
						iTime = iTime + (intDate.getTime() - loadDate.getTime() - benchmarkDate());
						
						callNextPage("QuestionnaireA.html", 
											"ExpA-Clicks:" + clicks, 
											"ExpA-Errors:" + errors,
											"ExpA-prodA3Views:" + prodA3Views,
											"ExpA-iTime:" + iTime);
					
					}
					else if ($(this).data("isdiv") != undefined){	
						clicks++
					}
					else{
						// An incorrect part of the page has been clicked
						errors++;
					}
				});
				
				$("div:nth-of-type(1)")
					.css("top", "681px")
					.css("left", "1183px")
					.click(function() {
						
						//Can't close details!
					
					});		
				
				$("div:nth-of-type(2)")
					.css("top", "807px")
					.css("left", "1059px")
					.click(function() {
					
					});	
					
				
				$("div:nth-of-type(3)")
						.css("top", "130px")
						.css("left", "25px")
						.click(function() {
					
							// Get the interaction time
							var intDate = new Date();
							
							iTime = iTime + (intDate.getTime() - loadDate.getTime() - benchmarkDate());
							
							callNextPage("pageA1.html", 
											"ExpA-Clicks:" + clicks, 
											"ExpA-Errors:" + errors,
											"ExpA-prodA3Views:" + prodA3Views,
											"ExpA-iTime:" + iTime);
							
						});
			});
		</script>
	</head>
	<body background="PA3background.png">
		<div data-isdiv="div" class="detailsButton"></div>
		<div data-isadddiv="div" class="addToBagLarge"></div>
		<div data-isdiv="div" class="backButton">
		</div>
	</body>
</html>